{"swagger":"2.0","info":{"description":"Create, modify, retrieve and search cases","version":"1.0.1","title":"Core Case Data - Data store API","contact":{"name":"CCD","url":"","email":"corecasedatateam@hmcts.net"},"license":{}},"host":"localhost:8080","basePath":"/","tags":[{"name":"callback-endpoint","description":"Default callbacks"},{"name":"case-access-endpoint","description":"Case access API"},{"name":"case-details-endpoint","description":"Standard case API"},{"name":"events-endpoint","description":"Events API"},{"name":"query-endpoint","description":"Query Endpoint"},{"name":"user-profile-endpoint","description":"User Profile Endpoint"}],"paths":{"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types":{"get":{"tags":["query-endpoint"],"summary":"Get case types","operationId":"getCaseTypesUsingGET","produces":["application/json"],"parameters":[{"name":"access","in":"query","description":"access","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"}],"responses":{"200":{"description":"List of case types for the given access criteria","schema":{"type":"array","items":{"$ref":"#/definitions/CaseType"}}},"404":{"description":"No case types found for given access criteria"}},"deprecated":true}},"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases":{"get":{"tags":["query-endpoint"],"summary":"Get case data with UI layout","operationId":"searchNewUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"params","in":"query","description":"params","required":true,"items":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"List of case data for the given search criteria","schema":{"$ref":"#/definitions/SearchResultView"}},"412":{"description":"Mismatch between case type and workbasket definitions"}}}},"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}":{"get":{"tags":["query-endpoint"],"summary":"Fetch a case for display","operationId":"findCaseUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"cid","required":true,"type":"string"},{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"}],"responses":{"200":{"description":"A displayable case","schema":{"$ref":"#/definitions/CaseView"}}}}},"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/event-triggers/{etid}":{"get":{"tags":["query-endpoint"],"summary":"Fetch an event trigger in the context of a case","operationId":"getEventTriggerForCaseUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"cid","required":true,"type":"string"},{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"etid","in":"path","description":"etid","required":true,"type":"string"},{"name":"ignore-warning","in":"query","description":"ignore-warning","required":false,"type":"boolean"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"uid","in":"path","description":"uid","required":true,"type":"string"}],"responses":{"200":{"description":"Valid pre-state conditions","schema":{"$ref":"#/definitions/CaseEventTrigger"}}}}},"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/event-triggers/{etid}":{"get":{"tags":["query-endpoint"],"summary":"Fetch an event trigger in the context of a case type","operationId":"getEventTriggerForCaseTypeUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"etid","in":"path","description":"etid","required":true,"type":"string"},{"name":"ignore-warning","in":"query","description":"ignore-warning","required":false,"type":"boolean"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"uid","in":"path","description":"uid","required":true,"type":"string"}],"responses":{"200":{"description":"Empty pre-state conditions","schema":{"$ref":"#/definitions/CaseEventTrigger"}},"422":{"description":"The case status did not qualify for the event"}}}},"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/inputs":{"get":{"tags":["query-endpoint"],"summary":"Get Search Input details","operationId":"findSearchInputDetailsUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"uid","in":"path","description":"uid","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Search Input data found for the given case type and jurisdiction","schema":{"type":"array","items":{"$ref":"#/definitions/SearchInput"}}},"404":{"description":"No SearchInput found for the given case type and jurisdiction"}}}},"/aggregated/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/work-basket-inputs":{"get":{"tags":["query-endpoint"],"summary":"Get Workbasket Input details","operationId":"findWorkbasketInputDetailsUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"uid","in":"path","description":"uid","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Workbasket Input data found for the given case type and jurisdiction","schema":{"type":"array","items":{"$ref":"#/definitions/WorkbasketInput"}}},"404":{"description":"No Workbasket Input found for the given case type and jurisdiction"}}}},"/callback/jurisdictions/{jid}/case-types/{ctid}/documents":{"post":{"tags":["callback-endpoint"],"summary":"Get printable documents","description":"Retrieve a list of printable documents for a case","operationId":"getPrintableDocumentsUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"caseDetails","description":"caseDetails","required":true,"schema":{"$ref":"#/definitions/CaseDetails"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Printable documents list retrieved","schema":{"type":"array","items":{"$ref":"#/definitions/Document"}}}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases":{"get":{"tags":["case-details-endpoint"],"summary":"Get case data for a given case type","operationId":"searchCasesForCaseWorkersUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"queryParameters","in":"query","description":"queryParameters","required":true,"items":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"List of case data for the given search criteria","schema":{"type":"array","items":{"$ref":"#/definitions/CaseDetails"}}}}},"post":{"tags":["case-details-endpoint"],"summary":"Submit case creation as Case worker","description":"Complete the case creation process. This requires a valid event token to be provided, as generated by `startCaseForCaseworker`.","operationId":"saveCaseDetailsForCaseWorkerUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"content","description":"content","required":true,"schema":{"$ref":"#/definitions/CaseDataContent"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ignore-warning","in":"query","description":"Should `AboutToSubmit` callback warnings be ignored","required":false,"type":"boolean","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"201":{"description":"Case created","schema":{"$ref":"#/definitions/CaseDetails"}},"409":{"description":"Case reference not unique"},"422":{"description":"Case submission failed"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/ids":{"get":{"tags":["case-access-endpoint"],"summary":"Get case ids","description":"Retrieve case ids for given users ids","operationId":"findCaseIdsGivenUserIdHasAccessToUsingGET","consumes":["*/*"],"produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"integer","allowEmptyValue":false,"format":"int32"},{"name":"userId","in":"query","description":"User id searching for","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"List of cases ids found","schema":{"type":"array","items":{"type":"string"}}},"400":{"description":"Invalid case ID"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/pagination_metadata":{"get":{"tags":["case-details-endpoint"],"summary":"Get the pagination metadata for a case data search","operationId":"searchCasesMetadataForCaseworkersUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"queryParameters","in":"query","description":"queryParameters","required":true,"items":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"Pagination metadata for the given search criteria","schema":{"$ref":"#/definitions/PaginatedSearchMetadata"}}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}":{"get":{"tags":["case-details-endpoint"],"summary":"Get case","description":"Retrieve an existing case with its state and data","operationId":"findCaseDetailsForCaseworkerUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Case found for the given ID","schema":{"$ref":"#/definitions/CaseDetails"}},"400":{"description":"Invalid case ID"},"404":{"description":"No case found for the given ID"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/documents":{"get":{"tags":["case-details-endpoint"],"summary":"Get a list of printable documents for the given case type ","operationId":"getDocumentsForEventUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"cid","required":true,"type":"string"},{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"}],"responses":{"200":{"description":"Documents list for the given case type and id","schema":{"type":"array","items":{"$ref":"#/definitions/Document"}}}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/event-triggers/{etid}/token":{"get":{"tags":["case-details-endpoint"],"summary":"Start event creation as Case worker","description":"Start the event creation process for an existing case. Triggers `AboutToStart` callback.","operationId":"startEventForCaseworkerUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"etid","in":"path","description":"Event ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ignore-warning","in":"query","description":"Should `AboutToStart` callback warnings be ignored","required":false,"type":"boolean","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Event creation process started","schema":{"$ref":"#/definitions/StartEventTrigger"}},"404":{"description":"No case found for the given ID"},"422":{"description":"Process could not be started"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/events":{"get":{"tags":["events-endpoint"],"summary":"Get events for case","description":"Retrieve all events for a case","operationId":"findEventDetailsForCaseUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"integer","allowEmptyValue":false,"format":"int32"}],"responses":{"200":{"description":"Events found for the given ID","schema":{"type":"array","items":{"$ref":"#/definitions/AuditEvent"}}},"400":{"description":"Invalid case ID"},"404":{"description":"No case found for the given ID"}}},"post":{"tags":["case-details-endpoint"],"summary":"Submit event creation as Case worker","description":"Complete the event creation process. This requires a valid event token to be provided, as generated by `startEventForCaseworker`.","operationId":"createCaseEventForCaseWorkerUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"in":"body","name":"content","description":"content","required":true,"schema":{"$ref":"#/definitions/CaseDataContent"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"201":{"description":"Case event created","schema":{"$ref":"#/definitions/CaseDetails"}},"409":{"description":"Case altered outside of transaction"},"422":{"description":"Event submission failed"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/users":{"post":{"tags":["case-access-endpoint"],"summary":"Grant access to case","operationId":"grantAccessToCaseUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"in":"body","name":"id","description":"id","required":true,"schema":{"$ref":"#/definitions/UserId"}},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"201":{"description":"Grant successful"},"400":{"description":"Invalid case ID"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/users/{idToDelete}":{"delete":{"tags":["case-access-endpoint"],"summary":"Revoke access to case","operationId":"revokeAccessToCaseUsingDELETE","consumes":["*/*"],"produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"idToDelete","in":"path","description":"Id to delete","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"integer","allowEmptyValue":false,"format":"int32"}],"responses":{"204":{"description":"Access revoked"},"400":{"description":"Invalid case ID"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/event-triggers/{etid}/token":{"get":{"tags":["case-details-endpoint"],"summary":"Start case creation as Case worker","description":"Start the case creation process for a new case. Triggers `AboutToStart` callback.","operationId":"startCaseForCaseworkerUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"etid","in":"path","description":"Event ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ignore-warning","in":"query","description":"Should `AboutToStart` callback warnings be ignored","required":false,"type":"boolean","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Case creation process started","schema":{"$ref":"#/definitions/StartEventTrigger"}},"422":{"description":"Process could not be started"}}}},"/caseworkers/{uid}/jurisdictions/{jid}/case-types/{ctid}/validate":{"post":{"tags":["case-details-endpoint"],"summary":"Validate a set of fields as Case worker","description":"Validate the case data entered during the case/event creation process.","operationId":"validateCaseDetailsForCaseWorkerUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"content","description":"content","required":true,"schema":{"$ref":"#/definitions/CaseDataContent"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Validation OK","schema":{"type":"object","additionalProperties":{"$ref":"#/definitions/JsonNode"}}},"409":{"description":"Case reference not unique"},"422":{"description":"Field validation failed"}}}},"/caseworkers/{uid}/profile":{"get":{"tags":["user-profile-endpoint"],"summary":"Get default setting for user","operationId":"getUserProfileUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserProfile"}}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases":{"get":{"tags":["case-details-endpoint"],"summary":"Get case data for a given case type","operationId":"searchCasesForCitizensUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"queryParameters","in":"query","description":"queryParameters","required":true,"items":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"List of case data for the given search criteria","schema":{"type":"array","items":{"$ref":"#/definitions/CaseDetails"}}}}},"post":{"tags":["case-details-endpoint"],"summary":"Submit case creation as Citizen","description":"Complete the case creation process. This requires a valid event token to be provided, as generated by `startCaseForCitizen`.","operationId":"saveCaseDetailsForCitizenUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"content","description":"content","required":true,"schema":{"$ref":"#/definitions/CaseDataContent"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ignore-warning","in":"query","description":"Should `AboutToSubmit` callback warnings be ignored","required":false,"type":"boolean","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"201":{"description":"Case created","schema":{"$ref":"#/definitions/CaseDetails"}},"409":{"description":"Case reference not unique"},"422":{"description":"Case submission failed"}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/pagination_metadata":{"get":{"tags":["case-details-endpoint"],"summary":"Get the pagination metadata for a case data search","operationId":"searchCasesMetadataForCitizensUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"ctid","required":true,"type":"string"},{"name":"jid","in":"path","description":"jid","required":true,"type":"string"},{"name":"queryParameters","in":"query","description":"queryParameters","required":true,"items":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"Pagination metadata for the given search criteria","schema":{"$ref":"#/definitions/PaginatedSearchMetadata"}}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}":{"get":{"tags":["case-details-endpoint"],"summary":"Get case","description":"Retrieve an existing case with its state and data","operationId":"findCaseDetailsForCitizenUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Case found for the given ID","schema":{"$ref":"#/definitions/CaseDetails"}},"400":{"description":"Invalid case ID"},"404":{"description":"No case found for the given ID"}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/event-triggers/{etid}/token":{"get":{"tags":["case-details-endpoint"],"summary":"Start event creation as Citizen","description":"Start the event creation process for an existing case. Triggers `AboutToStart` callback.","operationId":"startEventForCitizenUsingGET","produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"etid","in":"path","description":"Event ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ignore-warning","in":"query","description":"Should `AboutToStart` callback warnings be ignored","required":false,"type":"boolean","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Event creation process started","schema":{"$ref":"#/definitions/StartEventTrigger"}},"404":{"description":"No case found for the given ID"},"422":{"description":"Process could not be started"}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/cases/{cid}/events":{"post":{"tags":["case-details-endpoint"],"summary":"Submit event creation as Citizen","description":"Complete the event creation process. This requires a valid event token to be provided, as generated by `startEventForCitizen`.","operationId":"createCaseEventForCitizenUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"cid","in":"path","description":"Case ID","required":true,"type":"string","allowEmptyValue":false},{"in":"body","name":"content","description":"content","required":true,"schema":{"$ref":"#/definitions/CaseDataContent"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"201":{"description":"Case event created","schema":{"$ref":"#/definitions/CaseDetails"}},"409":{"description":"Case altered outside of transaction"},"422":{"description":"Event submission failed"}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/event-triggers/{etid}/token":{"get":{"tags":["case-details-endpoint"],"summary":"Start case creation as Citizen","description":"Start the case creation process for a new case. Triggers `AboutToStart` callback.","operationId":"startCaseForCitizenUsingGET","produces":["application/json"],"parameters":[{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"etid","in":"path","description":"Event ID","required":true,"type":"string","allowEmptyValue":false},{"name":"ignore-warning","in":"query","description":"Should `AboutToStart` callback warnings be ignored","required":false,"type":"boolean","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Case creation process started","schema":{"$ref":"#/definitions/StartEventTrigger"}},"422":{"description":"Process could not be started"}}}},"/citizens/{uid}/jurisdictions/{jid}/case-types/{ctid}/validate":{"post":{"tags":["case-details-endpoint"],"summary":"Validate a set of fields as Citizen","description":"Validate the case data entered during the case/event creation process.","operationId":"validateCaseDetailsForCitizenUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"content","description":"content","required":true,"schema":{"$ref":"#/definitions/CaseDataContent"}},{"name":"ctid","in":"path","description":"Case type ID","required":true,"type":"string","allowEmptyValue":false},{"name":"jid","in":"path","description":"Jurisdiction ID","required":true,"type":"string","allowEmptyValue":false},{"name":"uid","in":"path","description":"Idam user ID","required":true,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Validation OK","schema":{"type":"object","additionalProperties":{"$ref":"#/definitions/JsonNode"}}},"409":{"description":"Case reference not unique"},"422":{"description":"Field validation failed"}}}}},"definitions":{"AccessControlList":{"type":"object","properties":{"create":{"type":"boolean"},"delete":{"type":"boolean"},"read":{"type":"boolean"},"role":{"type":"string"},"update":{"type":"boolean"}},"title":"AccessControlList"},"AfterSubmitCallbackResponse":{"type":"object","properties":{"confirmation_body":{"type":"string"},"confirmation_header":{"type":"string"}},"title":"AfterSubmitCallbackResponse"},"AuditEvent":{"type":"object","properties":{"case_type_id":{"type":"string"},"case_type_version":{"type":"integer","format":"int32"},"created_date":{"type":"string","format":"date-time"},"data":{"type":"object","description":"Case data as defined in case type definition. See `docs/api/case-data.md` for data structure.","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"data_classification":{"type":"object","description":"Same structure as `data` with classification (`PUBLIC`, `PRIVATE`, `RESTRICTED`) as field's value.","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"description":{"type":"string"},"event_name":{"type":"string"},"id":{"type":"string"},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"security_classifications":{"type":"object","description":"Deprecated. Use `data_classification` instead.","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"state_id":{"type":"string"},"state_name":{"type":"string"},"summary":{"type":"string"},"user_first_name":{"type":"string"},"user_id":{"type":"string"},"user_last_name":{"type":"string"}},"title":"AuditEvent"},"CaseDataContent":{"type":"object","properties":{"data":{"type":"object","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"event":{"$ref":"#/definitions/Event"},"event_token":{"type":"string"},"ignore_warning":{"type":"boolean"},"security_classification":{"type":"object","additionalProperties":{"$ref":"#/definitions/JsonNode"}}},"title":"CaseDataContent"},"CaseDetails":{"type":"object","properties":{"after_submit_callback_response":{"$ref":"#/definitions/AfterSubmitCallbackResponse"},"callback_response_status":{"type":"string"},"callback_response_status_code":{"type":"integer","format":"int32"},"case_data":{"type":"object","description":"Case data as defined in case type definition. See `docs/api/case-data.md` for data structure.","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"case_type_id":{"type":"string"},"created_date":{"type":"string","format":"date-time"},"data_classification":{"type":"object","description":"Same structure as `case_data` with classification (`PUBLIC`, `PRIVATE`, `RESTRICTED`) as field's value.","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"id":{"type":"integer","format":"int64"},"jurisdiction":{"type":"string"},"last_modified":{"type":"string","format":"date-time"},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"security_classifications":{"type":"object","description":"Deprecated. Use `data_classification` instead.","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"state":{"type":"string"}},"title":"CaseDetails"},"CaseEvent":{"type":"object","properties":{"acls":{"type":"array","items":{"$ref":"#/definitions/AccessControlList"}},"callback_url_about_to_start_event":{"type":"string"},"callback_url_about_to_submit_event":{"type":"string"},"callback_url_submitted_event":{"type":"string"},"case_fields":{"type":"array","items":{"$ref":"#/definitions/CaseEventField"}},"description":{"type":"string"},"end_button_label":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"},"order":{"type":"integer","format":"int32"},"post_state":{"type":"string"},"pre_states":{"type":"array","items":{"type":"string"}},"retries_timeout_about_to_start_event":{"type":"array","items":{"type":"integer","format":"int32"}},"retries_timeout_url_about_to_submit_event":{"type":"array","items":{"type":"integer","format":"int32"}},"retries_timeout_url_submitted_event":{"type":"array","items":{"type":"integer","format":"int32"}},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"show_event_notes":{"type":"boolean"},"show_summary":{"type":"boolean"}},"title":"CaseEvent"},"CaseEventField":{"type":"object","required":["case_field_id"],"properties":{"case_field_id":{"type":"string","description":"Foreign key to CaseField.id"},"display_context":{"type":"string","description":"whether this field is optional, mandatory or read only for this event"},"show_condition":{"type":"string","description":"Show Condition expression for this field"},"show_summary_change_option":{"type":"boolean","description":"Show Summary Change Option"},"show_summary_content_option":{"type":"integer","format":"int32","description":"Show Summary Content Option"}},"title":"CaseEventField"},"CaseEventTrigger":{"type":"object","properties":{"case_fields":{"type":"array","items":{"$ref":"#/definitions/CaseViewField"}},"case_id":{"type":"string"},"description":{"type":"string"},"end_button_label":{"type":"string"},"event_token":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"},"show_event_notes":{"type":"boolean"},"show_summary":{"type":"boolean"},"wizard_pages":{"type":"array","items":{"$ref":"#/definitions/WizardPage"}}},"title":"CaseEventTrigger"},"CaseField":{"type":"object","properties":{"acls":{"type":"array","items":{"$ref":"#/definitions/AccessControlList"}},"case_type_id":{"type":"string"},"field_type":{"$ref":"#/definitions/FieldType"},"hidden":{"type":"boolean"},"hint_text":{"type":"string"},"id":{"type":"string"},"label":{"type":"string"},"live_from":{"type":"string"},"live_until":{"type":"string"},"security_classification":{"type":"string"},"show_condition":{"type":"string"}},"title":"CaseField"},"CaseState":{"type":"object","required":["id"],"properties":{"acls":{"type":"array","description":"State Access Control Lists","items":{"$ref":"#/definitions/AccessControlList"}},"description":{"type":"string"},"id":{"type":"string"},"name":{"type":"string","description":"Short name to display."},"order":{"type":"integer","format":"int32"}},"title":"CaseState"},"CaseType":{"type":"object","properties":{"acls":{"type":"array","items":{"$ref":"#/definitions/AccessControlList"}},"case_fields":{"type":"array","items":{"$ref":"#/definitions/CaseField"}},"description":{"type":"string"},"events":{"type":"array","items":{"$ref":"#/definitions/CaseEvent"}},"id":{"type":"string"},"jurisdiction":{"$ref":"#/definitions/Jurisdiction"},"name":{"type":"string"},"printable_document_url":{"type":"string"},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"states":{"type":"array","items":{"$ref":"#/definitions/CaseState"}},"version":{"$ref":"#/definitions/Version"}},"title":"CaseType"},"CaseView":{"type":"object","properties":{"case_id":{"type":"string"},"case_type":{"$ref":"#/definitions/CaseViewType"},"channels":{"type":"array","items":{"type":"string"}},"events":{"type":"array","items":{"$ref":"#/definitions/CaseViewEvent"}},"state":{"$ref":"#/definitions/ProfileCaseState"},"tabs":{"type":"array","items":{"$ref":"#/definitions/CaseViewTab"}},"triggers":{"type":"array","items":{"$ref":"#/definitions/CaseViewTrigger"}}},"title":"CaseView"},"CaseViewEvent":{"type":"object","properties":{"comment":{"type":"string"},"event_id":{"type":"string"},"event_name":{"type":"string"},"id":{"type":"integer","format":"int64"},"state_id":{"type":"string"},"state_name":{"type":"string"},"summary":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"user_first_name":{"type":"string"},"user_id":{"type":"string"},"user_last_name":{"type":"string"}},"title":"CaseViewEvent"},"CaseViewField":{"type":"object","properties":{"display_context":{"type":"string"},"field_type":{"$ref":"#/definitions/FieldType"},"hidden":{"type":"boolean"},"hint_text":{"type":"string"},"id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"},"security_label":{"type":"string"},"show_condition":{"type":"string"},"show_summary_change_option":{"type":"boolean"},"show_summary_content_option":{"type":"integer","format":"int32"},"validation_expr":{"type":"string"},"value":{"$ref":"#/definitions/JsonNode"}},"title":"CaseViewField"},"CaseViewJurisdiction":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"}},"title":"CaseViewJurisdiction"},"CaseViewTab":{"type":"object","properties":{"fields":{"type":"array","items":{"$ref":"#/definitions/CaseViewField"}},"id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"},"show_condition":{"type":"string"}},"title":"CaseViewTab"},"CaseViewTrigger":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"CaseViewTrigger"},"CaseViewType":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"string"},"jurisdiction":{"$ref":"#/definitions/CaseViewJurisdiction"},"name":{"type":"string"}},"title":"CaseViewType"},"DefaultSettings":{"type":"object","properties":{"workbasket":{"$ref":"#/definitions/WorkbasketDefault"}},"title":"DefaultSettings"},"Document":{"type":"object","properties":{"description":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"},"url":{"type":"string"}},"title":"Document"},"Event":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"string"},"summary":{"type":"string"}},"title":"Event"},"Field":{"type":"object","properties":{"field_type":{"$ref":"#/definitions/FieldType"},"id":{"type":"string"}},"title":"Field"},"FieldType":{"type":"object","properties":{"collection_field_type":{"$ref":"#/definitions/FieldType"},"complex_fields":{"type":"array","items":{"$ref":"#/definitions/CaseField"}},"fixed_list_items":{"type":"array","items":{"$ref":"#/definitions/FixedListItem"}},"id":{"type":"string"},"max":{"type":"number"},"min":{"type":"number"},"regular_expression":{"type":"string"},"type":{"type":"string"}},"title":"FieldType"},"FixedListItem":{"type":"object","properties":{"code":{"type":"string"},"label":{"type":"string"}},"title":"FixedListItem"},"IDAMProperties":{"type":"object","properties":{"defaultService":{"type":"string"},"email":{"type":"string"},"forename":{"type":"string"},"id":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"surname":{"type":"string"}},"title":"IDAMProperties"},"JsonNode":{"type":"object","properties":{"array":{"type":"boolean"},"bigDecimal":{"type":"boolean"},"bigInteger":{"type":"boolean"},"binary":{"type":"boolean"},"boolean":{"type":"boolean"},"containerNode":{"type":"boolean"},"double":{"type":"boolean"},"float":{"type":"boolean"},"floatingPointNumber":{"type":"boolean"},"int":{"type":"boolean"},"integralNumber":{"type":"boolean"},"long":{"type":"boolean"},"missingNode":{"type":"boolean"},"nodeType":{"type":"string","enum":["ARRAY","BINARY","BOOLEAN","MISSING","NULL","NUMBER","OBJECT","POJO","STRING"]},"null":{"type":"boolean"},"number":{"type":"boolean"},"object":{"type":"boolean"},"pojo":{"type":"boolean"},"short":{"type":"boolean"},"textual":{"type":"boolean"},"valueNode":{"type":"boolean"}},"title":"JsonNode"},"Jurisdiction":{"type":"object","required":["id","name"],"properties":{"description":{"type":"string"},"id":{"type":"string"},"live_from":{"type":"string","format":"date-time"},"live_until":{"type":"string","format":"date-time"},"name":{"type":"string"}},"title":"Jurisdiction"},"JurisdictionDisplayProperties":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"}},"title":"JurisdictionDisplayProperties"},"PaginatedSearchMetadata":{"type":"object","properties":{"total_pages_count":{"type":"integer","format":"int32"},"total_results_count":{"type":"integer","format":"int32"}},"title":"PaginatedSearchMetadata"},"ProfileCaseState":{"type":"object","properties":{"description":{"type":"string"},"id":{"type":"string"},"name":{"type":"string"}},"title":"ProfileCaseState"},"SearchInput":{"type":"object","properties":{"field":{"$ref":"#/definitions/Field"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"SearchInput"},"SearchResultView":{"type":"object","properties":{"columns":{"type":"array","items":{"$ref":"#/definitions/SearchResultViewColumn"}},"results":{"type":"array","items":{"$ref":"#/definitions/SearchResultViewItem"}}},"title":"SearchResultView"},"SearchResultViewColumn":{"type":"object","properties":{"case_field_id":{"type":"string"},"case_field_type":{"$ref":"#/definitions/FieldType"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"SearchResultViewColumn"},"SearchResultViewItem":{"type":"object","properties":{"case_fields":{"type":"object","additionalProperties":{"$ref":"#/definitions/JsonNode"}},"case_id":{"type":"string"}},"title":"SearchResultViewItem"},"StartEventTrigger":{"type":"object","properties":{"case_details":{"$ref":"#/definitions/CaseDetails"},"event_id":{"type":"string"},"token":{"type":"string"}},"title":"StartEventTrigger"},"User":{"type":"object","properties":{"idam":{"$ref":"#/definitions/IDAMProperties"}},"title":"User"},"UserId":{"type":"object","properties":{"id":{"type":"string"}},"title":"UserId"},"UserProfile":{"type":"object","properties":{"channels":{"type":"array","items":{"type":"string"}},"default":{"$ref":"#/definitions/DefaultSettings"},"jurisdictions":{"type":"array","items":{"$ref":"#/definitions/JurisdictionDisplayProperties"}},"user":{"$ref":"#/definitions/User"}},"title":"UserProfile"},"Version":{"type":"object","required":["live_from","number"],"properties":{"live_from":{"type":"string","format":"date-time","description":"Date and time from when this version is valid from"},"live_until":{"type":"string","format":"date-time","description":"Date and time this version is to be retired"},"number":{"type":"integer","format":"int32","description":"Sequantial version number"}},"title":"Version"},"WizardPage":{"type":"object","properties":{"id":{"type":"string"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"},"show_condition":{"type":"string"},"wizard_page_fields":{"type":"array","items":{"$ref":"#/definitions/WizardPageField"}}},"title":"WizardPage"},"WizardPageField":{"type":"object","properties":{"case_field_id":{"type":"string"},"order":{"type":"integer","format":"int32"},"page_column_no":{"type":"integer","format":"int32"}},"title":"WizardPageField"},"WorkbasketDefault":{"type":"object","properties":{"case_type_id":{"type":"string"},"jurisdiction_id":{"type":"string"},"state_id":{"type":"string"}},"title":"WorkbasketDefault"},"WorkbasketInput":{"type":"object","properties":{"field":{"$ref":"#/definitions/Field"},"label":{"type":"string"},"order":{"type":"integer","format":"int32"}},"title":"WorkbasketInput"}}}
