{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost","basePath":"/","tags":[{"name":"envelope-controller","description":"Envelope Controller"},{"name":"reconciliation-controller","description":"Reconciliation Controller"},{"name":"reconciliation-report-controller","description":"Reconciliation Report Controller"},{"name":"reconciliation-report-generation-controller","description":"Reconciliation Report Generation Controller"},{"name":"sas-token-controller","description":"Sas Token Controller"},{"name":"stale-blob-controller","description":"Stale Blob Controller"}],"paths":{"/envelopes":{"get":{"tags":["envelope-controller"],"summary":"findEnvelopes","operationId":"findEnvelopesUsingGET","produces":["application/json"],"parameters":[{"name":"container","in":"query","description":"container","required":false,"type":"string"},{"name":"date","in":"query","description":"date","required":false,"type":"string","format":"date"},{"name":"file_name","in":"query","description":"file_name","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SearchResult"}}}}},"/reconciliation-report/{date}":{"post":{"tags":["reconciliation-controller"],"summary":"Saves supplier statements report for given date","operationId":"uploadSupplierReportUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":false,"type":"string"},{"name":"date","in":"path","description":"date","required":true,"type":"string","format":"date"},{"in":"body","name":"supplierStatement","description":"supplierStatement","required":true,"schema":{"$ref":"#/definitions/SupplierStatement"}}],"responses":{"200":{"description":"The report has been accepted","schema":{"$ref":"#/definitions/SuccessfulResponse"}},"400":{"description":"Request failed due to malformed syntax in either body or path parameter"},"401":{"description":"Invalid API Key"}}}},"/reconciliation-reports":{"get":{"tags":["reconciliation-report-controller"],"summary":"getReportsByDate","operationId":"getReportsByDateUsingGET","produces":["application/json"],"parameters":[{"name":"date","in":"query","description":"date","required":true,"type":"string","format":"date"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SearchResult"}}}}},"/reconciliation/generate-and-email-reports":{"post":{"tags":["reconciliation-report-generation-controller"],"summary":"generateAndEmailReports","operationId":"generateAndEmailReportsUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"date","in":"query","description":"date","required":true,"type":"string","format":"date"}],"responses":{"200":{"description":"OK"}}}},"/stale-blobs":{"get":{"tags":["stale-blob-controller"],"summary":"findStaleBlobs","operationId":"findStaleBlobsUsingGET","produces":["application/json"],"parameters":[{"name":"stale_time","in":"query","description":"stale_time","required":false,"type":"integer","default":2,"format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SearchResult"}}}}},"/token/{serviceName}":{"get":{"tags":["sas-token-controller"],"summary":"getSasToken","operationId":"getSasTokenUsingGET","produces":["application/json"],"parameters":[{"name":"serviceName","in":"path","description":"serviceName","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/SasTokenResponse"}}}}}},"definitions":{"Envelope":{"type":"object","required":["container","jurisdiction","zip_file_name"],"properties":{"container":{"type":"string"},"jurisdiction":{"type":"string"},"payment_dcns":{"type":"array","items":{"type":"string"}},"rescan_for":{"type":"string"},"scannable_item_dcns":{"type":"array","items":{"type":"string"}},"zip_file_name":{"type":"string"}},"title":"Envelope"},"SasTokenResponse":{"type":"object","properties":{"sas_token":{"type":"string","description":"Shared access token to access blobs"}},"title":"SasTokenResponse"},"SearchResult":{"type":"object","properties":{"count":{"type":"integer","format":"int32"},"data":{"type":"array","items":{"type":"object"}}},"title":"SearchResult"},"SuccessfulResponse":{"type":"object","properties":{"id":{"type":"string","description":"ID under which Bulk Scanning has registered the report"}},"title":"SuccessfulResponse"},"SupplierStatement":{"type":"object","required":["envelopes"],"properties":{"envelopes":{"type":"array","description":"List of envelopes uploaded","items":{"$ref":"#/definitions/Envelope"}}},"title":"SupplierStatement"}}}
