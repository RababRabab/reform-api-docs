{"swagger":"2.0","info":{"description":"Mange case access","version":"1.0.0","title":"Mange case assignment API","contact":{"name":"CDM","url":"https://tools.hmcts.net/confluence/display/RCCD/Reform%3A+Core+Case+Data+Home","email":"corecasedatateam@hmcts.net"}},"host":"localhost","basePath":"/","tags":[{"name":"case-assignment-controller","description":"Case Assignment Controller"},{"name":"root-controller","description":"Root Controller"}],"paths":{"/":{"get":{"tags":["root-controller"],"summary":"welcome","operationId":"welcomeUsingGET","produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"IDAM Bearer token","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"S2S Bearer token of a allowed-list micro-service","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"deprecated":false}},"/case-assignments":{"put":{"tags":["case-assignment-controller"],"summary":"Assign Access within Organisation","description":"Assign Access within Organisation","operationId":"assignAccessWithinOrganisationUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"IDAM Bearer token","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"S2S Bearer token of a allowed-list micro-service","required":true,"type":"string"},{"in":"body","name":"requestPayload","description":"requestPayload","required":true,"schema":{"$ref":"#/definitions/Case Assignment Request"}}],"responses":{"200":{"description":"Role from the organisation policy successfully assigned to the assignee.","schema":{"$ref":"#/definitions/Case Assignment Response"}},"400":{"description":"One of the following reasons.\n1. Case ID can not be empty \n2. Case type ID can not be empty \n3. Assignee IDAM ID can not be empty \n4. Intended assignee has to be in the same organisation as that of the invoker. \n5. Case ID has to be one for which a case role is represented by the invoker's organisation. \n6. Case ID has to be for an existing case accessible by the invoker. \n7. Intended assignee has to be a solicitor enabled in the jurisdiction of the case. \n","examples":{"application/json":"{\"message\": \"Intended assignee has to be in the same organisation of invoker\", \"status\": \"BAD_REQUEST\" }"}},"401":{"description":"Authentication failure due to invalid / expired tokens (IDAM / S2S)."},"403":{"description":"One of the following reasons.\n1) UnAuthorised S2S service \n2) The user is neither a case access administrator nor a solicitor with access to the jurisdiction"}},"deprecated":false}}},"definitions":{"Case Assignment Request":{"type":"object","required":["assignee_id","case_id","case_type_id"],"properties":{"assignee_id":{"type":"string","example":"ecb5edf4-2f5f-4031-a0ec","description":"IDAM ID of the Assign User"},"case_id":{"type":"string","example":1583841721773828,"description":"Case ID to Assign Access To"},"case_type_id":{"type":"string","example":"PROBATE-TEST","description":"Case type ID of the requested case"}},"title":"Case Assignment Request"},"Case Assignment Response":{"type":"object","required":["status_message"],"properties":{"status_message":{"type":"string","example":"Role [Defendant] from the organisation policy successfully assigned to the assignee.","description":"Domain Status Message"}},"title":"Case Assignment Response"}}}
