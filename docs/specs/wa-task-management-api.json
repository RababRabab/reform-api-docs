{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost","basePath":"/","tags":[{"name":"product-resource","description":"Product Resource"},{"name":"root-controller","description":"Root Controller"},{"name":"task-controller","description":"Task Controller"}],"paths":{"/":{"get":{"tags":["root-controller"],"summary":"welcome","operationId":"welcomeUsingGET","produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Keyword `Bearer` followed by a valid IDAM user token","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"deprecated":false}},"/products/{productId}":{"get":{"tags":["product-resource"],"summary":"getProduct","operationId":"getProductUsingGET","produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Keyword `Bearer` followed by a valid IDAM user token","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"productId","in":"path","description":"productId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Product"}}},"deprecated":false},"put":{"tags":["product-resource"],"summary":"updateProduct","operationId":"updateProductUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"Authorization","in":"header","description":"Keyword `Bearer` followed by a valid IDAM user token","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"productId","in":"query","description":"productId","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Product"}}},"deprecated":false}},"/task":{"post":{"tags":["task-controller"],"summary":"Retrieve a list of Task resources identified by set of search criteria.","operationId":"searchWithCriteriaUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"in":"body","name":"searchTaskRequest","description":"searchTaskRequest","required":true,"schema":{"$ref":"#/definitions/SearchTaskRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetTasksResponse"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/search-for-completable":{"post":{"tags":["task-controller"],"summary":"Retrieve a list of Task resources identified by set of search criteria that are eligible for automatic completion","operationId":"searchWithCriteriaForAutomaticCompletionUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"in":"body","name":"searchEventAndCase","description":"searchEventAndCase","required":true,"schema":{"$ref":"#/definitions/SearchEventAndCase"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetTasksResponse"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/{task-id}":{"get":{"tags":["task-controller"],"summary":"Retrieve a Task Resource identified by its unique id.","operationId":"getTaskUsingGET","produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetTaskResponse"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/{task-id}/assign":{"post":{"tags":["task-controller"],"summary":"Assign the identified Task to a specified user.","operationId":"assignTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"in":"body","name":"assigneeRequest","description":"assigneeRequest","required":true,"schema":{"$ref":"#/definitions/AssigneeRequest"}},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"204":{"description":"Task assigned"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/{task-id}/cancel":{"post":{"tags":["task-controller"],"summary":"Cancel a Task identified by an id.","operationId":"cancelTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"204":{"description":"Task has been cancelled"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/{task-id}/claim":{"post":{"tags":["task-controller"],"summary":"Claim the identified Task for the currently logged in user.","operationId":"claimTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"204":{"description":"No Content","schema":{"type":"string"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/{task-id}/complete":{"post":{"tags":["task-controller"],"summary":"Completes a Task identified by an id.","operationId":"completeTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"204":{"description":"Task has been completed"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}},"/task/{task-id}/unclaim":{"post":{"tags":["task-controller"],"summary":"Unclaim the identified Task for the currently logged in user.","operationId":"unclaimTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"ServiceAuthorization","in":"header","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"204":{"description":"Task unclaimed","schema":{"type":"string"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}},"deprecated":false}}},"definitions":{"AssigneeRequest":{"type":"object","properties":{"user_id":{"type":"string"}},"title":"AssigneeRequest"},"GetTaskResponse":{"type":"object","properties":{"task":{"$ref":"#/definitions/Task"}},"title":"GetTaskResponse"},"GetTaskResponse«Task»":{"type":"object","properties":{"task":{"$ref":"#/definitions/Task"}},"title":"GetTaskResponse«Task»"},"GetTasksResponse":{"type":"object","properties":{"tasks":{"type":"array","items":{"$ref":"#/definitions/Task"}}},"title":"GetTasksResponse"},"GetTasksResponse«Task»":{"type":"object","properties":{"tasks":{"type":"array","items":{"$ref":"#/definitions/Task"}}},"title":"GetTasksResponse«Task»"},"Product":{"type":"object","title":"Product"},"SearchEventAndCase":{"type":"object","required":["case_id","case_jurisdiction","case_type","event_id"],"properties":{"case_id":{"type":"string"},"case_jurisdiction":{"type":"string"},"case_type":{"type":"string"},"event_id":{"type":"string"}},"title":"SearchEventAndCase","description":"Search task request with event and case id"},"SearchParameter":{"type":"object","required":["key","operator","values"],"properties":{"key":{"type":"string","enum":["location","user","jurisdiction","state","type","caseId"]},"operator":{"type":"string","enum":["IN","BETWEEN","BEFORE","AFTER"]},"values":{"type":"array","items":{"type":"string"}}},"title":"SearchParameter","description":"Search parameter containing the key, operator and a list of values"},"SearchTaskRequest":{"type":"object","properties":{"search_parameters":{"type":"array","items":{"$ref":"#/definitions/SearchParameter"}},"sorting_parameters":{"type":"array","items":{"$ref":"#/definitions/SortingParameter"}}},"title":"SearchTaskRequest","description":"Search task request containing a list of parameters"},"SortingParameter":{"type":"object","properties":{"sort_by":{"type":"string","enum":["dueDate","taskTitle","locationName","caseCategory","caseId","caseName"]},"sort_order":{"type":"string","enum":["asc","desc"]}},"title":"SortingParameter","description":"Sorting parameter containing the field to sort on and the order"},"Task":{"type":"object","required":["assignee","auto_assigned","case_category","case_id","case_name","case_type_id","execution_type","id","jurisdiction","location","location_name","name","region","security_classification","task_state","task_system","task_title","type"],"properties":{"assignee":{"type":"string","description":"The single user who has been assigned this task i.e. IDAM ID"},"auto_assigned":{"type":"boolean","description":"If TRUE then task was auto-assigned, otherwise FALSE"},"case_category":{"type":"string","description":" Case category  to display in task list UI"},"case_id":{"type":"string","description":" Case ID to display in task list UI"},"case_name":{"type":"string","description":" Case name to display in task list UI"},"case_type_id":{"type":"string","description":" The CCD case type ID"},"created_date":{"type":"string","format":"date-time","example":"2020-09-05T14:47:01.250542+01:00","description":"Optional due date for the task that will be created"},"due_date":{"type":"string","format":"date-time","example":"2020-09-05T14:47:01.250542+01:00","description":"Optional due date for the task that will be created"},"execution_type":{"type":"string","description":"Indicator to the user interface of how this task is to be executed. For MVP, this will always be \"Case Management Task\""},"id":{"type":"string","description":"Unique identifier for the task"},"jurisdiction":{"type":"string","description":"For MVP, will always be \"IA\""},"location":{"type":"string","description":"The ePims ID for the physical location"},"location_name":{"type":"string","description":"`location to display in task list UI"},"name":{"type":"string","description":"Name of the task assigned in the process model"},"region":{"type":"string","description":" The region ID. For IAC is always \"1\" (national)"},"security_classification":{"type":"string","description":"The security classification of the main business entity this task relates to. Can be PUBLIC, PRIVATE, RESTRICTED"},"task_state":{"type":"string","description":"unconfigured, unassigned, configured, assigned, referred, completed, cancelled"},"task_system":{"type":"string","description":" Code indicating the system which is responsible for this task. For MVP will be always SELF"},"task_title":{"type":"string","description":"Task title to display in task list UI"},"type":{"type":"string","description":"Unique identifier for the conceptual business task"},"warnings":{"type":"boolean"}},"title":"Task"}}}
